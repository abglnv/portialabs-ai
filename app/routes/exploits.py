from fastapi import APIRouter
from pymongo import MongoClient
import os
from dotenv import load_dotenv

load_dotenv()

router = APIRouter()

MONGO_URI = os.getenv("MONGO_URI")
client = MongoClient(MONGO_URI)
db = client["portialabs"]

@router.get("/")
async def get_exploits():
    exploits = list(db["exploits"].find({}, {"_id": 0}))
    return exploits

